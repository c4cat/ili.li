<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>I AM ON CHAOS</title>
</head>
<style>
/* dev branch*/
*{
    padding:0;
    margin: 0;
}
html,
body {
    margin: 0;
    overflow: hidden;
    height: 100%;
}
canvas[resize] {
    width: 100%;
    height: 100%;
}
</style>
<script type='text/javascript' src='./static/js/paper-full.min.js'></script>
    <script type="text/paperscript" canvas="canvas">
        var width, height, center;
        var points = 200;
        var smooth = true;
        var radius = 60;
        var path = new Path({
            // fillColor: 'black'
            strokeWidth:0.5,
            strokeColor:'#000'
        });

        // var c = new Path.Circle(new Point(view.center.x, view.center.y), radius);
        // c.strokeColor = 'black';

        initializePath();

        function rd(m,n){
            var c = n-m+1;  
            return Math.random()*c+m;
        }

        function initializePath() {
            center = view.center;
            width = view.size.width;
            height = view.size.height / 2;
            path.segments = [];
            // path.add(view.bounds.bottomLeft);
            for (var i = 0; i < points; i++) {
                var point = theCordAfterCricleLimit();
                if(point){
                    path.add(point);
                }
            }
            path.smooth();
        }

        function theCordAfterCricleLimit(){
            var rdx = rd(center.x-radius,center.x+radius),
                rdy = rd(center.y-radius,center.y+radius);

            var xLength = Math.abs(rdx - center.x),
                yLength = Math.abs(rdy - center.y);

            var lengthFormOrigin =  Math.sqrt((xLength*xLength)+(yLength*yLength));
            console.log(lengthFormOrigin);
            if( lengthFormOrigin > radius){
                return '';
            }
            var point = new Point(rdx, rdy);
            return point;
        }

        function onFrame(event) {
            if(event.count%3 == 0){
                path.segments = [];
                for (var i = 0; i < points; i++) {
                    var point = theCordAfterCricleLimit();
                    if(point){
                        path.add(point);
                    }
                }
                if(smooth){
                    path.smooth();
                }
            }
        }

        // Reposition the path whenever the window is resized:
        function onResize(event) {
            initializePath();
        }
    </script>
<body>
	<canvas id="canvas" resize></canvas>
</body>
</html>